{
  "version": 3,
  "sources": ["../../../../../apps/kanban_plus/kanban_plus/public/js/list_view_select.bundle.js"],
  "sourcesContent": ["frappe.provide(\"frappe.views\");\n\n\nfrappe.views.ListViewSelect = class ListViewSelect extends frappe.views.ListViewSelect {\n\n\tsetup_views() {\n\t\tconst views = {\n\t\t\tList: {\n\t\t\t\tcondition: true,\n\t\t\t\taction: () => this.set_route(\"list\"),\n\t\t\t},\n\t\t\tReport: {\n\t\t\t\tcondition: true,\n\t\t\t\taction: () => this.set_route(\"report\"),\n\t\t\t\tcurrent_view_handler: () => {\n\t\t\t\t\tconst reports = this.get_reports();\n\t\t\t\t\tlet default_action = {};\n\t\t\t\t\t// Only add action if current route is not report builder\n\t\t\t\t\tif (frappe.get_route().length > 3) {\n\t\t\t\t\t\tdefault_action = {\n\t\t\t\t\t\t\tlabel: __(\"Report Builder\"),\n\t\t\t\t\t\t\taction: () => this.set_route(\"report\"),\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tthis.setup_dropdown_in_sidebar(\"Report\", reports, default_action);\n\t\t\t\t},\n\t\t\t},\n\t\t\tDashboard: {\n\t\t\t\tcondition: true,\n\t\t\t\taction: () => this.set_route(\"dashboard\"),\n\t\t\t},\n\t\t\tCalendar: {\n\t\t\t\tcondition: frappe.views.calendar[this.doctype],\n\t\t\t\taction: () => this.set_route(\"calendar\", \"default\"),\n\t\t\t\tcurrent_view_handler: () => {\n\t\t\t\t\tthis.get_calendars().then((calendars) => {\n\t\t\t\t\t\tthis.setup_dropdown_in_sidebar(\"Calendar\", calendars);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\tGantt: {\n\t\t\t\tcondition: frappe.views.calendar[this.doctype],\n\t\t\t\taction: () => this.set_route(\"gantt\"),\n\t\t\t},\n\t\t\tInbox: {\n\t\t\t\tcondition: this.doctype === \"Communication\" && frappe.boot.email_accounts.length,\n\t\t\t\taction: () => this.set_route(\"inbox\"),\n\t\t\t\tcurrent_view_handler: () => {\n\t\t\t\t\tconst accounts = this.get_email_accounts();\n\t\t\t\t\tlet default_action;\n\t\t\t\t\tif (has_common(frappe.user_roles, [\"System Manager\", \"Administrator\"])) {\n\t\t\t\t\t\tdefault_action = {\n\t\t\t\t\t\t\tlabel: __(\"New Email Account\"),\n\t\t\t\t\t\t\taction: () => frappe.new_doc(\"Email Account\"),\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tthis.setup_dropdown_in_sidebar(\"Inbox\", accounts, default_action);\n\t\t\t\t},\n\t\t\t},\n\t\t\tImage: {\n\t\t\t\tcondition: this.list_view.meta.image_field,\n\t\t\t\taction: () => this.set_route(\"image\"),\n\t\t\t},\n\t\t\tTree: {\n\t\t\t\tcondition:\n\t\t\t\t\tfrappe.treeview_settings[this.doctype] ||\n\t\t\t\t\tfrappe.get_meta(this.doctype).is_tree,\n\t\t\t\taction: () => this.set_route(\"tree\"),\n\t\t\t},\n\t\t\tKanban: {\n\t\t\t\tcondition: this.doctype != \"File\",\n\t\t\t\taction: () => this.setup_kanban_boards(),\n\t\t\t\tcurrent_view_handler: () => {\n\t\t\t\t\tfrappe.views.KanbanView.get_kanbans(this.doctype).then((kanbans) =>\n\t\t\t\t\t\tthis.setup_kanban_switcher(kanbans)\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n            KanbanPlus: {\n\t\t\t\tcondition: this.doctype != \"File\",\n\t\t\t\taction: () => this.setup_kanban_boards(),\n\t\t\t\tcurrent_view_handler: () => {\n\t\t\t\t\tfrappe.views.KanbanView.get_kanbans(this.doctype).then((kanbans) =>\n\t\t\t\t\t\tthis.setup_kanban_switcher(kanbans)\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t\tMap: {\n\t\t\t\tcondition:\n\t\t\t\t\tthis.list_view.settings.get_coords_method ||\n\t\t\t\t\t(this.list_view.meta.fields.find((i) => i.fieldname === \"latitude\") &&\n\t\t\t\t\t\tthis.list_view.meta.fields.find((i) => i.fieldname === \"longitude\")) ||\n\t\t\t\t\tthis.list_view.meta.fields.find(\n\t\t\t\t\t\t(i) => i.fieldname === \"location\" && i.fieldtype == \"Geolocation\"\n\t\t\t\t\t),\n\t\t\t\taction: () => this.set_route(\"map\"),\n\t\t\t},\n\t\t};\n\n\t\tfrappe.views.view_modes.forEach((view) => {\n\t\t\tif (this.current_view !== view && views[view].condition) {\n\t\t\t\tthis.add_view_to_menu(view, views[view].action);\n\t\t\t}\n\n\t\t\tif (this.current_view == view) {\n\t\t\t\tviews[view].current_view_handler && views[view].current_view_handler();\n\t\t\t}\n\t\t});\n\t}\n\n};\n"],
  "mappings": "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",
  "names": []
}
